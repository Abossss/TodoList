# 📐 **TodoList**

## 1. 项目概述 💡

`TodoList` 是一个基于 Java Swing 构建的简单图形化待办事项管理应用程序，旨在帮助用户高效地添加、查看、管理和标记待办任务。它提供了直观的用户界面，通过文件存储机制保持任务的持久化，让用户能够随时查看和编辑任务列表。

---

## 2. 系统架构设计 🏗️

`TodoList` 项目的架构主要分为以下几个模块：

1. **任务输入模块** (`TaskInputPanel`):
   - 负责任务名称的输入和任务添加的操作。用户通过文本框输入任务名称，并通过点击“添加任务”按钮或按下回车键提交任务。
   - **主要功能**：任务名称输入框、按钮交互。
   - **交互逻辑**：输入框提交后调用 `addTask` 方法将新任务添加到任务列表中。

2. **任务显示模块** (`TaskListPanel`):
   - 显示所有待办任务的列表，用户可以查看每个任务的状态（完成与否）和优先级。
   - **主要功能**：任务列表展示、完成状态切换、删除任务。
   - **交互逻辑**：通过列表的选择或双击任务，可以切换任务完成状态或删除任务。任务的更改会实时反映在界面上，并同步保存到文件。

3. **任务管理模块** (`Task` 类):
   - 内部类 `Task` 用于表示每一个待办任务，包含任务的名称、状态（是否完成）和优先级。
   - **主要功能**：任务对象的管理，支持任务的添加、删除和完成状态的更新。
   - **交互逻辑**：每个任务都能独立地保存其状态，通过任务管理方法进行任务状态的更新和维护。

4. **数据持久化模块** (`tasks.txt` 文件):
   - 用于保存用户的任务数据，以便在应用启动时恢复之前的任务状态。
   - **主要功能**：从 `tasks.txt` 文件读取任务数据，修改后保存回文件。
   - **交互逻辑**：每次任务的更改（如添加、删除、修改完成状态）都会同步更新到文件。

---

## 3. 功能模块设计 🧩

### 3.1 任务输入模块 (`TaskInputPanel.java`)

- **功能**：允许用户输入新的待办任务名称并提交。
- **设计细节**：
  - 使用一个 `JTextField` 作为任务输入框，用户输入任务名称。
  - 使用一个 `JButton` 作为“添加任务”按钮，点击后调用 `addTask` 方法。
  - 按钮和输入框都使用适当的字体和样式进行美化，确保用户友好的交互。

- **交互逻辑**：
  - 用户输入任务名后，点击“添加任务”按钮或按下回车键，触发 `addTask` 方法，将任务添加到任务列表。

---

### 3.2 任务列表模块 (`TaskListPanel.java`)

- **功能**：显示任务列表，并提供任务的完成状态切换和删除功能。
- **设计细节**：
  - 使用 `JList<String>` 展示任务列表，`DefaultListModel<String>` 作为数据模型。
  - 每个任务项与任务类中的 `Task` 对象相对应，包含任务的完成状态和优先级。
  - 通过 `JButton` 控件提供删除选中任务的功能。

- **交互逻辑**：
  - 用户可以通过单击任务或按下回车键切换任务的完成状态。
  - 通过选中任务并点击“删除选中任务”按钮来删除任务。
  - 所有操作后，任务数据会被更新并保存回 `tasks.txt` 文件中。

---

### 3.3 任务类设计 (`Task.java`)

- **功能**：定义每个任务的结构和基本操作。
- **设计细节**：
  - 任务类包含以下属性：任务名称 `name`、完成状态 `completed`、优先级 `priority`。
  - 提供方法以便于任务的修改和状态更新，例如设置任务为已完成、设置优先级等。

- **方法**：
  - `getName()`: 获取任务名称。
  - `setCompleted(boolean completed)`: 设置任务完成状态。
  - `getPriority()`: 获取任务优先级。
  - `setPriority(int priority)`: 设置任务优先级。

---

### 3.4 数据存储模块

- **功能**：持久化存储任务数据。
- **设计细节**：
  - 所有任务数据将存储在 `tasks.txt` 文件中，格式为文本文件。
  - 每次任务状态发生变化（添加、删除、更新完成状态等），都将更新该文件。
  
- **交互逻辑**：
  - 在应用启动时，任务列表会从 `tasks.txt` 文件加载任务数据。
  - 在任务有变动时，程序会自动将更改保存回文件。

---

## 4. 类与方法设计 🧱

### 4.1 主要类设计

#### `TaskInputPanel.java`

```java
public class TaskInputPanel extends JPanel {
    private JTextField taskInputField;
    private JButton addButton;

    public TaskInputPanel() {
        taskInputField = new JTextField(20);
        addButton = new JButton("添加任务");

        addButton.addActionListener(e -> addTask());

        add(taskInputField);
        add(addButton);
    }

    public void addTask() {
        String taskName = taskInputField.getText();
        // 添加任务逻辑
    }
}
